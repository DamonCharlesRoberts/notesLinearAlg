<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Notes on Practical Linear Algebra for Data Science by Mike X Cohen - 5&nbsp; Matrices, Part I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ch_6.html" rel="next">
<link href="./ch_4.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ch_5.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Matrices, Part I</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Notes on <em>Practical Linear Algebra for Data Science</em> by Mike X Cohen</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What this is</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Vectors, Part I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Vectors Part II</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Vector Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Matrices, Part I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Matrices, Part II</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Matrix applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Matrix Inverse</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Orthogonal matrices and QR decomposition.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Row reduction and LU Decomposition</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch_11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">General Linear Models (GLM) and Least Squares</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#matrices" id="toc-matrices" class="nav-link active" data-scroll-target="#matrices"><span class="header-section-number">5.1</span> Matrices</a></li>
  <li><a href="#types-of-matrices" id="toc-types-of-matrices" class="nav-link" data-scroll-target="#types-of-matrices"><span class="header-section-number">5.2</span> Types of matrices</a>
  <ul class="collapse">
  <li><a href="#random-numbers-matrix" id="toc-random-numbers-matrix" class="nav-link" data-scroll-target="#random-numbers-matrix"><span class="header-section-number">5.2.1</span> Random numbers matrix</a></li>
  <li><a href="#square-and-rectangular-matrices" id="toc-square-and-rectangular-matrices" class="nav-link" data-scroll-target="#square-and-rectangular-matrices"><span class="header-section-number">5.2.2</span> Square and rectangular matrices</a></li>
  <li><a href="#diagonal-matrix" id="toc-diagonal-matrix" class="nav-link" data-scroll-target="#diagonal-matrix"><span class="header-section-number">5.2.3</span> Diagonal matrix</a></li>
  <li><a href="#identity-matrix" id="toc-identity-matrix" class="nav-link" data-scroll-target="#identity-matrix"><span class="header-section-number">5.2.4</span> Identity Matrix</a></li>
  <li><a href="#triangular-matrix" id="toc-triangular-matrix" class="nav-link" data-scroll-target="#triangular-matrix"><span class="header-section-number">5.2.5</span> Triangular Matrix</a></li>
  <li><a href="#zeros-matrix" id="toc-zeros-matrix" class="nav-link" data-scroll-target="#zeros-matrix"><span class="header-section-number">5.2.6</span> Zeros matrix</a></li>
  </ul></li>
  <li><a href="#matrix-addition" id="toc-matrix-addition" class="nav-link" data-scroll-target="#matrix-addition"><span class="header-section-number">5.3</span> Matrix Addition</a></li>
  <li><a href="#shifting-a-matrix" id="toc-shifting-a-matrix" class="nav-link" data-scroll-target="#shifting-a-matrix"><span class="header-section-number">5.4</span> “Shifting” a matrix</a></li>
  <li><a href="#scalar-and-hadamard-multiplications" id="toc-scalar-and-hadamard-multiplications" class="nav-link" data-scroll-target="#scalar-and-hadamard-multiplications"><span class="header-section-number">5.5</span> Scalar and Hadamard multiplications</a></li>
  <li><a href="#matrix-multiplication" id="toc-matrix-multiplication" class="nav-link" data-scroll-target="#matrix-multiplication"><span class="header-section-number">5.6</span> Matrix multiplication</a></li>
  <li><a href="#matrix-vector-multiplication" id="toc-matrix-vector-multiplication" class="nav-link" data-scroll-target="#matrix-vector-multiplication"><span class="header-section-number">5.7</span> Matrix-vector multiplication</a></li>
  <li><a href="#linear-weighted-combinations" id="toc-linear-weighted-combinations" class="nav-link" data-scroll-target="#linear-weighted-combinations"><span class="header-section-number">5.8</span> Linear weighted combinations</a></li>
  <li><a href="#transposing-matrices" id="toc-transposing-matrices" class="nav-link" data-scroll-target="#transposing-matrices"><span class="header-section-number">5.9</span> Transposing matrices</a></li>
  <li><a href="#order-of-operations-live-evil" id="toc-order-of-operations-live-evil" class="nav-link" data-scroll-target="#order-of-operations-live-evil"><span class="header-section-number">5.10</span> Order of operations: LIVE EVIL</a></li>
  <li><a href="#symmetric-matrices" id="toc-symmetric-matrices" class="nav-link" data-scroll-target="#symmetric-matrices"><span class="header-section-number">5.11</span> Symmetric matrices</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Matrices, Part I</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="setup" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Distributions</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Random</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="matrices" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="matrices"><span class="header-section-number">5.1</span> Matrices</h2>
<div class="callout callout-style-default callout-note callout-titled" title="Defintions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defintions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Matrices:
<ul>
<li>Highly versitile mathematical objects.</li>
<li>In DS, they are often conceptualized as a horizontally stacked set of column vectors.
<ul>
<li>Often appear in the observations-by-feature format.
<ul>
<li>Rows are observations.</li>
<li>Columns are features (variables).</li>
</ul></li>
<li>Indices are often denoted as Row <span class="math inline">\(\times\)</span> Column.</li>
</ul></li>
<li>Denoted with bold-faced capital letters.
<ul>
<li>E.g., <strong>A</strong> or <strong>M</strong></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<ul>
<li>Example of matrices:</li>
</ul>
<div id="1dd3aff7" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a 3x5 matrix.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>] [<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>] [<span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">7</span>] [<span class="fl">7</span>,<span class="fl">6</span>,<span class="fl">8</span>] [<span class="fl">9</span>,<span class="fl">8</span>,<span class="fl">9</span>]]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A, a 3x5 Matrix:</span><span class="sc">$</span>A<span class="st">"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure that it is 3x5</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> <span class="fu">size</span>(A, <span class="fl">1</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>num_columns <span class="op">=</span> <span class="fu">size</span>(A, <span class="fl">2</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A has </span><span class="sc">$</span>num_rows<span class="st"> rows."</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A has </span><span class="sc">$</span>num_columns<span class="st"> columns."</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Slicing</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     - Slice the first row.</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>first_row <span class="op">=</span> A[<span class="fl">1</span>, <span class="op">:</span>]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A's first row is: </span><span class="sc">$</span>first_row<span class="st">"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     - Slice the first column.</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>first_column <span class="op">=</span> A[<span class="op">:</span>, <span class="fl">1</span>]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A's first column is: </span><span class="sc">$</span>first_column<span class="st">"</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">#    - Slice the last row.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">#           - Note that there are shortcuts.</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>last_row <span class="op">=</span> A[<span class="kw">end</span>, <span class="op">:</span>]</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A's last row is: </span><span class="sc">$</span>last_row<span class="st">"</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co">#           - Slice the last column.</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">#               - Note the shortcut.</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>last_column <span class="op">=</span> A[<span class="op">:</span>, <span class="kw">end</span>]</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A's last column is: </span><span class="sc">$</span>last_column<span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A, a 3x5 Matrix:[1 3 5 7 9; 0 2 4 6 8; 1 4 7 8 9]
A has 3 rows.
A has 5 columns.
A's first row is: [1, 3, 5, 7, 9]
A's first column is: [1, 0, 1]
A's last row is: [1, 4, 7, 8, 9]
A's last column is: [9, 8, 9]</code></pre>
</div>
</div>
</section>
<section id="types-of-matrices" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="types-of-matrices"><span class="header-section-number">5.2</span> Types of matrices</h2>
<ul>
<li>There are an infinite number of matrices. However, there are certain classes that are relatively common.</li>
</ul>
<section id="random-numbers-matrix" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="random-numbers-matrix"><span class="header-section-number">5.2.1</span> Random numbers matrix</h3>
<ul>
<li><p>Contains numbers drawn at random from some distribution.</p></li>
<li><p>Example:</p></li>
</ul>
<div id="cell-random-matrix" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># There are many packages available.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 3x3 matrix randomly generated from Gaussian dist.</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#       - Create a Gaussian distribution with mean = 5 and std. dev = 2.</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>mu <span class="op">=</span> <span class="fl">5</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>sigma_squared <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>dist <span class="op">=</span> Distributions.<span class="fu">Normal</span>(mu, sigma_squared)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   - Generate the matrix pulling from the dist.</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> <span class="fl">3</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>num_features <span class="op">=</span> <span class="fl">4</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> <span class="bu">Random</span>.<span class="fu">rand</span>(dist, num_rows, num_features)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="random-matrix" class="cell-output cell-output-display" data-execution_count="4">
<pre><code>3×4 Matrix{Float64}:
 6.3592   3.61815  2.68209  3.80779
 7.73537  5.25992  5.50092  3.50644
 4.8147   5.20514  3.63537  5.56604</code></pre>
</div>
</div>
</section>
<section id="square-and-rectangular-matrices" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="square-and-rectangular-matrices"><span class="header-section-number">5.2.2</span> Square and rectangular matrices</h3>
<ul>
<li>The <strong>Square matrix</strong> is <span class="math inline">\(\mathbb{R}^{N \times N}\)</span>
<ul>
<li>The matrix has the same number of rows as columns.</li>
</ul></li>
<li>The <strong>Rectangular matrix</strong> is <span class="math inline">\(\mathbb{R}^{M \times N}\)</span> or <span class="math inline">\(\mathbb{R}^{N \times M}\)</span> where <span class="math inline">\(M &gt; N\)</span>.
<ul>
<li><strong>Tall</strong> rectangular matrices are the former (<span class="math inline">\(M \times N\)</span>)</li>
<li><strong>Wide</strong> rectangular matrices are the latter (<span class="math inline">\(N \times M\)</span>)</li>
</ul></li>
<li>Example of square and rectangular matrices.</li>
</ul>
<div id="cell-square-matrix" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a Square matrix.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>square_matrix <span class="op">=</span> <span class="bu">Random</span>.<span class="fu">rand</span>(<span class="fl">3</span>,<span class="fl">3</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a Square Matrix:"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>square_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Example of a Square Matrix:</code></pre>
</div>
<div id="square-matrix" class="cell-output cell-output-display" data-execution_count="5">
<pre><code>3×3 Matrix{Float64}:
 0.570851  0.798623  0.240766
 0.933675  0.832721  0.310331
 0.586793  0.160646  0.523838</code></pre>
</div>
</div>
<div id="cell-tall-matrix" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a Tall matrix.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>tall_matrix <span class="op">=</span> <span class="bu">Random</span>.<span class="fu">rand</span>(<span class="fl">4</span>,<span class="fl">3</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a Tall Matrix:"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>tall_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Example of a Tall Matrix:</code></pre>
</div>
<div id="tall-matrix" class="cell-output cell-output-display" data-execution_count="6">
<pre><code>4×3 Matrix{Float64}:
 0.720362  0.33162   0.325086
 0.68186   0.296971  0.515731
 0.514356  0.415962  0.0568227
 0.982175  0.747093  0.265896</code></pre>
</div>
</div>
<div id="cell-wide-matrix" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a Wide matrix.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>wide_matrix <span class="op">=</span> <span class="bu">Random</span>.<span class="fu">rand</span>(<span class="fl">3</span>, <span class="fl">4</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a Wide Matrix:"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>wide_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Example of a Wide Matrix:</code></pre>
</div>
<div id="wide-matrix" class="cell-output cell-output-display" data-execution_count="7">
<pre><code>3×4 Matrix{Float64}:
 0.633416  0.508978  0.238866  0.6797
 0.882501  0.62274   0.82069   0.925353
 0.442554  0.829215  0.396217  0.302257</code></pre>
</div>
</div>
</section>
<section id="diagonal-matrix" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="diagonal-matrix"><span class="header-section-number">5.2.3</span> Diagonal matrix</h3>
<ul>
<li><p>A square matrix that has zeros on all of the off-diagonal elements.</p></li>
<li><p>Example</p></li>
</ul>
<div id="cell-diagonal-matrix" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a diagonal matrix.</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#       - Define the elements on the diagonal.</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>diag_ele <span class="op">=</span> [<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#       - Create the matrix.</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>D <span class="op">=</span> <span class="bu">LinearAlgebra</span>.<span class="fu">Diagonal</span>(diag_ele)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a Diagonal Matrix:"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>D</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Example of a Diagonal Matrix:</code></pre>
</div>
<div id="diagonal-matrix" class="cell-output cell-output-display" data-execution_count="8">
<pre><code>4×4 Diagonal{Int64, Vector{Int64}}:
 1  ⋅  ⋅  ⋅
 ⋅  2  ⋅  ⋅
 ⋅  ⋅  3  ⋅
 ⋅  ⋅  ⋅  4</code></pre>
</div>
</div>
</section>
<section id="identity-matrix" class="level3" data-number="5.2.4">
<h3 data-number="5.2.4" class="anchored" data-anchor-id="identity-matrix"><span class="header-section-number">5.2.4</span> Identity Matrix</h3>
<ul>
<li><p>A special type of a square diagonal matrix where the elements on the diagonal are 1’s.</p></li>
<li><p>Usually denoted as <strong>I</strong>.</p></li>
<li><p>Example</p></li>
</ul>
<div id="cell-identity-matrix" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a identity matrix.</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#       - Define the size of the matrix.</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">4</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   - Create the matrix.</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>I <span class="op">=</span> <span class="bu">LinearAlgebra</span>.<span class="fu">I</span>(n)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a Identity Matrix:"</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>I</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Example of a Identity Matrix:</code></pre>
</div>
<div id="identity-matrix" class="cell-output cell-output-display" data-execution_count="9">
<pre><code>4×4 Diagonal{Bool, Vector{Bool}}:
 1  ⋅  ⋅  ⋅
 ⋅  1  ⋅  ⋅
 ⋅  ⋅  1  ⋅
 ⋅  ⋅  ⋅  1</code></pre>
</div>
</div>
</section>
<section id="triangular-matrix" class="level3" data-number="5.2.5">
<h3 data-number="5.2.5" class="anchored" data-anchor-id="triangular-matrix"><span class="header-section-number">5.2.5</span> Triangular Matrix</h3>
<ul>
<li>A matrix contains all zeros either above (<strong>Upper Triangular</strong>) or below (<strong>Lower Triangular</strong>) the diagonal.</li>
</ul>
<div id="cell-triangular-matrices" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a diagonal matrix.</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>diag_ele <span class="op">=</span> [<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>D <span class="op">=</span> <span class="bu">LinearAlgebra</span>.<span class="fu">Diagonal</span>(diag_ele)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Diagonal Matrix:"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>D</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   The Upper Triangle.</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>UT <span class="op">=</span> <span class="bu">LinearAlgebra</span>.<span class="fu">triu</span>(D)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of an Upper Triangle Matrix:"</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>UT</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co"># The Lower Triangle.</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>LT <span class="op">=</span> <span class="bu">LinearAlgebra</span>.<span class="fu">tril</span>(D)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a Lower Triangle Matrix:"</span>)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>LT</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Diagonal Matrix:
Example of an Upper Triangle Matrix:
Example of a Lower Triangle Matrix:</code></pre>
</div>
<div id="triangular-matrices" class="cell-output cell-output-display" data-execution_count="10">
<pre><code>4×4 Diagonal{Int64, Vector{Int64}}:
 1  ⋅  ⋅  ⋅
 ⋅  2  ⋅  ⋅
 ⋅  ⋅  3  ⋅
 ⋅  ⋅  ⋅  4</code></pre>
</div>
</div>
</section>
<section id="zeros-matrix" class="level3" data-number="5.2.6">
<h3 data-number="5.2.6" class="anchored" data-anchor-id="zeros-matrix"><span class="header-section-number">5.2.6</span> Zeros matrix</h3>
<ul>
<li>It is a Matrix of all Zeros.</li>
<li>Usually denoted as <strong>0</strong>.</li>
</ul>
<div id="cell-zeros-matrix" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 4x4 Zeros matrix.</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>O <span class="op">=</span> <span class="bu">LinearAlgebra</span>.<span class="fu">zeros</span>(<span class="fl">4</span>,<span class="fl">4</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Example of a 4x4 Zero's Matrix:"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>O</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Example of a 4x4 Zero's Matrix:</code></pre>
</div>
<div id="zeros-matrix" class="cell-output cell-output-display" data-execution_count="11">
<pre><code>4×4 Matrix{Float64}:
 0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0</code></pre>
</div>
</div>
</section>
</section>
<section id="matrix-addition" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="matrix-addition"><span class="header-section-number">5.3</span> Matrix Addition</h2>
<ul>
<li>To add two matrices, you add their corresponding elements. That is:</li>
</ul>
<p><span class="math display">\[
A+B = \begin{bmatrix}(A11 + B11) &amp; (A21 + B21)\\ (A12 + B12) &amp; (A22 + B22)\\\end{bmatrix}
\]</span></p>
<ul>
<li>As usual, they must be of the same size.</li>
<li>Example</li>
</ul>
<div id="cell-adding-matrices" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the matrices.</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">1</span>, <span class="fl">2</span>] [<span class="fl">3</span>, <span class="fl">4</span>]]</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> [[<span class="fl">5</span>, <span class="fl">6</span>] [<span class="fl">7</span>, <span class="fl">8</span>]]</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Matrix A:"</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Matrix A:</code></pre>
</div>
<div id="adding-matrices" class="cell-output cell-output-display" data-execution_count="12">
<pre><code>2×2 Matrix{Int64}:
 1  3
 2  4</code></pre>
</div>
</div>
<div id="cell-adding-matrices-b" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Matrix B:"</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Matrix B:</code></pre>
</div>
<div id="adding-matrices-b" class="cell-output cell-output-display" data-execution_count="13">
<pre><code>2×2 Matrix{Int64}:
 5  7
 6  8</code></pre>
</div>
</div>
<div id="cell-adding-matrices-result" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the matrices</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>C <span class="op">=</span> A <span class="op">+</span> B</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Result of adding the two matrices:"</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Result of adding the two matrices:</code></pre>
</div>
<div id="adding-matrices-result" class="cell-output cell-output-display" data-execution_count="14">
<pre><code>2×2 Matrix{Int64}:
 6  10
 8  12</code></pre>
</div>
</div>
</section>
<section id="shifting-a-matrix" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="shifting-a-matrix"><span class="header-section-number">5.4</span> “Shifting” a matrix</h2>
<ul>
<li><p>You cannot formally add a scalar to a matrix as in <span class="math inline">\(\lambda + A\)</span></p></li>
<li><p>You can broadcast a scalar to a square matrix. This is what is referred to as “Shifting” a matrix.</p>
<ul>
<li>To do this, you take the scalar and multiply it to an identity matrix and then add the identity matrix to the resulting matrix. <span class="math display">\[
A + \lambda I
\]</span></li>
</ul></li>
<li><p>Only the diagonal elements change. You don’t want to shift much of the matrix. How much you shift a matrix depends a lot and is somewhat relative.</p></li>
<li><p>Shifting has two really important applications: finding eigenvalues of a matrix and regularizing matrices when fitting models to data.</p></li>
<li><p>Here’s a numerical example</p></li>
</ul>
<p><span class="math display">\[
\begin{bmatrix}4 &amp; 5 &amp; 1\\ 0 &amp; 1 &amp; 11 \\ 4 &amp; 9 &amp; 7\\\end{bmatrix} + 6 \begin{bmatrix}1 &amp; 0 &amp; 0\\ 0 &amp; 1 &amp; 0\\ 0 &amp; 0 &amp; 1\\\end{bmatrix} = \begin{bmatrix}10 &amp; 5 &amp; 1\\ 0 &amp; 7 &amp; 11\\ 4 &amp; 9 &amp; 13\\\end{bmatrix}
\]</span></p>
<ul>
<li>Here’s how to do it in Julia.</li>
</ul>
<div id="cell-matrix-shifting" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the matrix.</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>] [<span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>] [<span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>]]</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Matrix A:"</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>A</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the scalar.</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>lambda <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Shift A.</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> A <span class="op">+</span> (lambda <span class="op">*</span> <span class="bu">LinearAlgebra</span>.<span class="fu">I</span>(<span class="fu">size</span>(A, <span class="fl">1</span>)))</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Shifted version of A + 2I"</span>)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Matrix A:
Shifted version of A + 2I</code></pre>
</div>
<div id="matrix-shifting" class="cell-output cell-output-display" data-execution_count="15">
<pre><code>3×3 Matrix{Int64}:
 3  4   7
 2  7   8
 3  6  11</code></pre>
</div>
</div>
</section>
<section id="scalar-and-hadamard-multiplications" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="scalar-and-hadamard-multiplications"><span class="header-section-number">5.5</span> Scalar and Hadamard multiplications</h2>
<ul>
<li><p>Both types of multiplication work element-wise.</p></li>
<li><p>Hadamard multiplication is identified with <span class="math inline">\(A \odot B\)</span>.</p></li>
<li><p>Example of scalar multiplication:</p></li>
</ul>
<div id="cell-scalar-multiplication" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the matrix.</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">1</span>,<span class="fl">2</span>] [<span class="fl">1</span>,<span class="fl">2</span>]]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A:</span><span class="sc">$</span>A<span class="st">"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the scalar.</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>lambda <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the result of the scalar-multiplied A.</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>lambda <span class="op">*</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A:[1 1; 2 2]</code></pre>
</div>
<div id="scalar-multiplication" class="cell-output cell-output-display" data-execution_count="16">
<pre><code>2×2 Matrix{Int64}:
 2  2
 4  4</code></pre>
</div>
</div>
<ul>
<li>Example of Hadamard multiplication:</li>
</ul>
<div id="cell-hadamard-multiplication" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the two matrices.</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">1</span>, <span class="fl">1</span>] [<span class="fl">1</span>, <span class="fl">1</span>]]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> [[<span class="fl">1</span>, <span class="fl">2</span>] [<span class="fl">1</span>, <span class="fl">2</span>]]</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiply the matrices.</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   - Use the .* to do element-wise multiplication.</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>A <span class="op">.*</span> B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="hadamard-multiplication" class="cell-output cell-output-display" data-execution_count="17">
<pre><code>2×2 Matrix{Int64}:
 1  1
 2  2</code></pre>
</div>
</div>
</section>
<section id="matrix-multiplication" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="matrix-multiplication"><span class="header-section-number">5.6</span> Matrix multiplication</h2>
<ul>
<li>Recall the dot product between two vectors:</li>
</ul>
<p><span class="math display">\[
a^Tb = \sum^n_{i=1}a_ib_i
\]</span></p>
<ul>
<li>Matrix multiplication is essentially the collection of dot products between rows of one matrix and columns of the other matrix.
<ul>
<li>Specifically, the <span class="math inline">\((i,j)\)</span>th element in the product matrix is the dot product between the <span class="math inline">\(i\)</span>th row of the left matrix and the <span class="math inline">\(j\)</span>th column in the right matrix.</li>
</ul></li>
<li>Conditions:
<ul>
<li>If <span class="math inline">\(A\)</span> is <span class="math inline">\(\mathbb{R}^{M \times N}\)</span> then <span class="math inline">\(B\)</span> must be <span class="math inline">\(\mathbb{R}^{N \times K}\)</span>.
<ul>
<li>In words, the inner dimensions must mactch</li>
</ul></li>
<li>The result produces the outer dimensions, <span class="math inline">\(AB\)</span> is <span class="math inline">\(\mathbb{R}^{M \times K}\)</span>.</li>
<li>Does not obey the commutative law. So <span class="math inline">\(AB\)</span> may be valid but <span class="math inline">\(BA\)</span> will not be valid as <span class="math inline">\(K \neq M\)</span>.</li>
</ul></li>
<li>Interpreting it: The product matrix is one that stores all of the pairwise linear relationships between the rows of the left matrix and the columns of the right matrix. This is the basis for computing covariance and correlation matrices, GLM, and many other applications.</li>
<li>Numerical example</li>
</ul>
<p><span class="math display">\[
\begin{bmatrix}2&amp;3\\4&amp;5\\\end{bmatrix}\begin{bmatrix}a&amp;b\\c&amp;d\\\end{bmatrix} = \begin{bmatrix}(2a + 3c) &amp; (2b + 3d)\\(4a + 5c) &amp; (4b + 5d)\\\end{bmatrix}
\]</span></p>
<ul>
<li>Example in julia</li>
</ul>
<div id="cell-matrix-multiplication" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the matrices.</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">2</span>,<span class="fl">4</span>] [<span class="fl">3</span>,<span class="fl">5</span>]]</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> [[<span class="fl">2</span>,<span class="fl">4</span>] [<span class="fl">3</span>,<span class="fl">5</span>]]</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A:</span><span class="sc">$</span>A<span class="st">"</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"B:</span><span class="sc">$</span>B<span class="st">"</span>)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiply the matrices.</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>A<span class="op">*</span>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A:[2 3; 4 5]
B:[2 3; 4 5]</code></pre>
</div>
<div id="matrix-multiplication" class="cell-output cell-output-display" data-execution_count="18">
<pre><code>2×2 Matrix{Int64}:
 16  21
 28  37</code></pre>
</div>
</div>
</section>
<section id="matrix-vector-multiplication" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="matrix-vector-multiplication"><span class="header-section-number">5.7</span> Matrix-vector multiplication</h2>
<ul>
<li>Essentially matrix multiplication where one matrix happens to be a vector.</li>
<li>Extending the rules from matrix multiplication:
<ul>
<li>A matrix can be right-multiplied by a column vector but not a row vector. <span class="math inline">\(Av\)</span> and <span class="math inline">\(v^TA\)</span> are valid but <span class="math inline">\(Av^T\)</span> and <span class="math inline">\(vA\)</span> are not valid.</li>
<li>The product is always a vector and the orientation of the vector depends on the orientation of the multiplicand vector: premultiplying a row vector produces a row vector and postmultiplying a matrix by a column vector produces a column vector.</li>
</ul></li>
<li>This is often used when obtaining the model-predicted values by multiplying the design matrix by the regression coefficients, <span class="math inline">\(X\beta\)</span>.</li>
</ul>
</section>
<section id="linear-weighted-combinations" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="linear-weighted-combinations"><span class="header-section-number">5.8</span> Linear weighted combinations</h2>
<ul>
<li><p>In the previous chapter we calculated these with separate scalars and vectors. Now we can do this in a more compact and scalable method: put the vectors in a matrix, put the weights into corresponding elements of a vector, then multiply.</p></li>
<li><p>Numerical example:</p></li>
</ul>
<p><span class="math display">\[
4 \begin{bmatrix}3\\0\\6\\\end{bmatrix} + 3 \begin{bmatrix}1\\2\\5\\\end{bmatrix} \implies \begin{bmatrix}3&amp;1\\0&amp;2\\6&amp;5\\\end{bmatrix}\begin{bmatrix}4\\3\end{bmatrix}\\
= \begin{bmatrix}(12 + 3)\\(0 + 6)\\ (24 + 15)\\\end{bmatrix}
\]</span></p>
<ul>
<li>Numerical example in Julia:</li>
</ul>
<div id="linear-weighted" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the matrices.</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">3</span>,<span class="fl">0</span>,<span class="fl">6</span>] [<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">5</span>]]</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> [<span class="fl">4</span>,<span class="fl">3</span>]</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiply them.</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"A*b: "</span>, A<span class="op">*</span>b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A*b: [15, 6, 39]</code></pre>
</div>
</div>
</section>
<section id="transposing-matrices" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="transposing-matrices"><span class="header-section-number">5.9</span> Transposing matrices</h2>
<ul>
<li>You swap the row and column indices.</li>
<li>Denoted with <span class="math inline">\(A^T\)</span>.</li>
<li>Numerical example <span class="math display">\[
\begin{bmatrix}
  3&amp;0&amp;4\\
  9&amp;8&amp;3\\
\end{bmatrix}^T
= \begin{bmatrix}
  3&amp;9\\
  0&amp;8\\
  4&amp;3\\
\end{bmatrix}
\]</span></li>
<li>Example in Julia</li>
</ul>
<div id="cell-transpose" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the matrix</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> [[<span class="fl">3</span>,<span class="fl">9</span>] [<span class="fl">0</span>,<span class="fl">8</span>] [<span class="fl">4</span>,<span class="fl">3</span>]]</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Transpose the matrix</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>A<span class="op">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="transpose" class="cell-output cell-output-display" data-execution_count="20">
<pre><code>3×2 adjoint(::Matrix{Int64}) with eltype Int64:
 3  9
 0  8
 4  3</code></pre>
</div>
</div>
<ul>
<li>For two column vectors of <span class="math inline">\(M\times 1\)</span>, transposing the vector and not the second gives a <span class="math inline">\(1 \times M\)</span> matrix and a <span class="math inline">\(M \times 1\)</span> matrix. The inner dimensions match and the product is <span class="math inline">\(1 \times 1\)</span>. This is why the dot product is denoted with <span class="math inline">\(a^Tb\)</span>.</li>
</ul>
</section>
<section id="order-of-operations-live-evil" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="order-of-operations-live-evil"><span class="header-section-number">5.10</span> Order of operations: LIVE EVIL</h2>
<ul>
<li>The transose of multiplied matrices is the same as the individual matrices transposed and multiplied in rversed order. <span class="math display">\[
(LIVE)^T = E^TV^TI^TL^T
\]</span></li>
</ul>
</section>
<section id="symmetric-matrices" class="level2" data-number="5.11">
<h2 data-number="5.11" class="anchored" data-anchor-id="symmetric-matrices"><span class="header-section-number">5.11</span> Symmetric matrices</h2>
<ul>
<li>The corresponding rows and columns are equal. This means that when you swap rows and columns, nothing changes.
<ul>
<li><span class="math inline">\(A^T = A\)</span></li>
</ul></li>
<li>Needs to be a square matrix.</li>
<li>To create a symmetric matrix, you need to multipy any matrix (including nonsquare and nonsymmetric) by its transpose will produce a square symmetric matrix.
<ul>
<li><span class="math inline">\(A^TA\)</span> and <span class="math inline">\(AA^T\)</span> are both square symmetric.</li>
</ul></li>
<li>The proof:
<ul>
<li>If <span class="math inline">\(A\)</span> is <span class="math inline">\(\mathbb{R}^{M \times N}\)</span>, then <span class="math inline">\(A^T\)</span> is <span class="math inline">\(\mathbb{R}^{N \times M}\)</span>. <span class="math inline">\(A^TA\)</span> must then be <span class="math inline">\(\mathbb{R}^{N \times N}\)</span>.</li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ch_4.html" class="pagination-link  aria-label=" &lt;span="" applications&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Vector Applications</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ch_6.html" class="pagination-link" aria-label="<span class='chapter-number'>6</span>&nbsp; <span class='chapter-title'>Matrices, Part II</span>">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Matrices, Part II</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>